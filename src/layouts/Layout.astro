---
import { ViewTransitions } from 'astro:transitions';

interface Props {
	title?: string;
	description?: string;
	keywords?: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.site || 'https://cukrarstviblahutovi.cz');

const {
	title = 'Cukrářství Blahutovi | Domácí dorty a zákusky Ostrava a okolí',
	description = 'Poctivé domácí dorty na zakázku, čerstvé zákusky a mini zákusky z rodinného cukrářství. Navštivte nás v Ostravě, Karviné a Petřvaldě. Tradice od roku 1991.',
	keywords = 'cukrářství, dorty na zakázku, domácí zákusky, mini zákusky, jedlý tisk, Ostrava, Karviná, Petřvald, Píšť'
} = Astro.props;
---

<!doctype html>
<html lang="cs">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<meta property="fb:app_id" content="1422427109539340" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://cukrarstviblahutovi.cz/" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content="https://cukrarstviblahutovi.cz/img/dorty/51.webp" />
		<meta property="og:image:secure_url" content="https://cukrarstviblahutovi.cz/img/dorty/51.webp" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content="Svatební dort od Cukrářství Blahutovi" />
		<meta property="og:locale" content="cs_CZ" />

		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<meta name="facebook-domain-verification" content="jruzshk2iiwkpbv8w7j4nkjkcan570" />

		<title>{title}</title>
		<meta name="description" content={description} />
		<link rel="canonical" href={canonicalURL} />

		<ViewTransitions />

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		
		<link 
			rel="stylesheet" 
			href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@400;600;700&display=swap" 
			media="print" 
			onload="this.media='all'"
		>

		<script is:inline>
			window.addEventListener('load', () => {
				const script = document.createElement('script');
				script.src = "https://www.googletagmanager.com/gtag/js?id=G-5JPLYYKGGN";
				script.async = true;
				document.head.appendChild(script);
				
				script.onload = () => {
					window.dataLayer = window.dataLayer || [];
					function gtag(){dataLayer.push(arguments);}
					gtag('js', new Date());
					gtag('config', 'G-5JPLYYKGGN');
				};
			});
		</script>

		<style is:inline>
			:root { --navy: #0a192f; --gold: #d4af37; }
			body { 
				background-color: #f8f9fa; 
				color: #0a192f; 
				font-family: system-ui, -apple-system, sans-serif; 
				margin: 0; 
				display: block !important;
				opacity: 1 !important;
				visibility: visible !important;
			}
			h1 { font-family: serif; font-weight: 700; font-size: 2.5rem; }
		</style>
	</head>
	<body class="pb-16 md:pb-0">
		<slot />

		<div class="fixed bottom-6 right-6 z-[9999] md:hidden">
			<input type="checkbox" id="call-menu-toggle" class="hidden peer">
			<label for="call-menu-toggle" class="flex items-center justify-center w-16 h-16 bg-[#d4af37] text-white rounded-full shadow-2xl cursor-pointer peer-checked:rotate-45" aria-label="Zobrazit telefonní čísla">
				<svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
				</svg>
			</label>
			<div class="absolute bottom-20 right-0 hidden peer-checked:flex flex-col gap-3 w-64">
				<a href="tel:+420778157857" class="bg-[#0a192f] border-r-4 border-[#d4af37] p-3 rounded-lg shadow-xl text-white text-right no-underline">
					<div class="text-[10px] text-[#d4af37] font-bold uppercase tracking-widest">Petřvald</div>
					<div class="text-lg font-bold">778 157 857</div>
				</a>
				<a href="tel:+420602323788" class="bg-[#0a192f] border-r-4 border-[#d4af37] p-3 rounded-lg shadow-xl text-white text-right no-underline">
					<div class="text-[10px] text-[#d4af37] font-bold uppercase tracking-widest">Píšť (Sídlo)</div>
					<div class="text-lg font-bold">602 323 788</div>
				</a>
				<a href="tel:+420778157867" class="bg-[#0a192f] border-r-4 border-[#d4af37] p-3 rounded-lg shadow-xl text-white text-right no-underline">
					<div class="text-[10px] text-[#d4af37] font-bold uppercase tracking-widest">Karviná</div>
					<div class="text-lg font-bold">778 157 867</div>
				</a>
				<a href="tel:+420775271101" class="bg-[#0a192f] border-r-4 border-[#d4af37] p-3 rounded-lg shadow-xl text-white text-right no-underline">
					<div class="text-[10px] text-[#d4af37] font-bold uppercase tracking-widest">Ostrava</div>
					<div class="text-lg font-bold">775 271 101</div>
				</a>
			</div>
		</div>

		<script is:inline src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js" defer></script>
	</body>
</html>

<style is:global>
	footer { color: rgba(255, 255, 255, 0.8) !important; }
	img { content-visibility: auto; }
</style>
